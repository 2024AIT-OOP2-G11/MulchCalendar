<script></script>
<div>カレンダー</div>
<div class="calendar"></div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const calendarEl = document.querySelector(".calendar");

    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: "dayGridMonth", // 月表示
      locale: "ja", // 日本語ローカル設定
      headerToolbar: {
        left: "prev,next today",
        center: "title",
        right: "dayGridMonth,dayGridWeek,dayGridDay",
      },
      events: function (info, successCallback, failureCallback) {
        // Flask APIからイベントデータを取得
        fetch("/api/events")
          .then((response) => response.json())
          .then((data) => {
            // イベントデータをFullCalendarに渡す
            successCallback(data);
          })
          .catch((error) => {
            console.error("Error fetching events:", error);
            failureCallback(error);
          });
      },
      dateClick: (e) => {
        // 日付マスのクリックイベント
        console.log("dateClick:", e);
      },
      eventClick: (e) => {
        // イベントのクリックイベント
        console.log("eventClick:", e.event.title);
      },
    });

    calendar.render();
  });
</script>
